{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///Users/jyotisangwan/Desktop/quantX/lib/inngest/client.ts"],"sourcesContent":["import {Inngest } from \"inngest\";\n\nexport const inngest = new Inngest({\n  id: \"Signalist\",\n  ai: {gemini : {apiKey : process.env.GEMINI_API_KEY || \"\"}},\n  key: process.env.INNGEST_PUBLIC_KEY || \"\",\n});"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,UAAU,IAAI,6JAAO,CAAC;IACjC,IAAI;IACJ,IAAI;QAAC,QAAS;YAAC,QAAS,QAAQ,GAAG,CAAC,cAAc,IAAI;QAAE;IAAC;IACzD,KAAK,QAAQ,GAAG,CAAC,kBAAkB,IAAI;AACzC"}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///Users/jyotisangwan/Desktop/quantX/lib/inngest/prompts.ts"],"sourcesContent":["export const PERSONALIZED_WELCOME_EMAIL_PROMPT = `Generate highly personalized HTML content that will be inserted into an email template at the {{intro}} placeholder.\n\nUser profile data:\n{{userProfile}}\n\nPERSONALIZATION REQUIREMENTS:\nYou MUST create content that is obviously tailored to THIS specific user by:\n\nIMPORTANT: Do NOT start the personalized content with \"Welcome\" since the email header already says \"Welcome aboard {{name}}\". Use alternative openings like \"Thanks for joining\", \"Great to have you\", \"You're all set\", \"Perfect timing\", etc.\n\n1. **Direct Reference to User Details**: Extract and use specific information from their profile:\n   - Their exact investment goals or objectives\n   - Their stated risk tolerance level\n   - Their preferred sectors/industries mentioned\n   - Their experience level or background\n   - Any specific stocks/companies they're interested in\n   - Their investment timeline (short-term, long-term, retirement)\n\n2. **Contextual Messaging**: Create content that shows you understand their situation:\n   - New investors ‚Üí Reference learning/starting their journey\n   - Experienced traders ‚Üí Reference advanced tools/strategy enhancement  \n   - Retirement planning ‚Üí Reference building wealth over time\n   - Specific sectors ‚Üí Reference those exact industries by name\n   - Conservative approach ‚Üí Reference safety and informed decisions\n   - Aggressive approach ‚Üí Reference opportunities and growth potential\n\n3. **Personal Touch**: Make it feel like it was written specifically for them:\n   - Use their goals in your messaging\n   - Reference their interests directly\n   - Connect features to their specific needs\n   - Make them feel understood and seen\n\nCRITICAL FORMATTING REQUIREMENTS:\n- Return ONLY clean HTML content with NO markdown, NO code blocks, NO backticks\n- Use SINGLE paragraph only: <p class=\"mobile-text\" style=\"margin: 0 0 30px 0; font-size: 16px; line-height: 1.6; color: #CCDADC;\">content</p>\n- Write exactly TWO sentences (add one more sentence than current single sentence)\n- Keep total content between 35-50 words for readability\n- Use <strong> for key personalized elements (their goals, sectors, etc.)\n- DO NOT include \"Here's what you can do right now:\" as this is already in the template\n- Make every word count toward personalization\n- Second sentence should add helpful context or reinforce the personalization\n\nExample personalized outputs (showing obvious customization with TWO sentences):\n<p class=\"mobile-text\" style=\"margin: 0 0 30px 0; font-size: 16px; line-height: 1.6; color: #CCDADC;\">Thanks for joining Signalist! As someone focused on <strong>technology growth stocks</strong>, you'll love our real-time alerts for companies like the ones you're tracking. We'll help you spot opportunities before they become mainstream news.</p>\n\n<p class=\"mobile-text\" style=\"margin: 0 0 30px 0; font-size: 16px; line-height: 1.6; color: #CCDADC;\">Great to have you aboard! Perfect for your <strong>conservative retirement strategy</strong> ‚Äî we'll help you monitor dividend stocks without overwhelming you with noise. You can finally track your portfolio progress with confidence and clarity.</p>\n\n<p class=\"mobile-text\" style=\"margin: 0 0 30px 0; font-size: 16px; line-height: 1.6; color: #CCDADC;\">You're all set! Since you're new to investing, we've designed simple tools to help you build confidence while learning the <strong>healthcare sector</strong> you're interested in. Our beginner-friendly alerts will guide you without the confusing jargon.</p>`\n\nexport const NEWS_SUMMARY_EMAIL_PROMPT = `Generate HTML content for a market news summary email that will be inserted into the NEWS_SUMMARY_EMAIL_TEMPLATE at the {{newsContent}} placeholder.\n\nNews data to summarize:\n{{newsData}}\n\nCRITICAL FORMATTING REQUIREMENTS:\n- Return ONLY clean HTML content with NO markdown, NO code blocks, NO backticks\n- Structure content with clear sections using proper HTML headings and paragraphs\n- Use these specific CSS classes and styles to match the email template:\n\nSECTION HEADINGS (for categories like \"Market Highlights\", \"Top Movers\", etc.):\n<h3 class=\"mobile-news-title dark-text\" style=\"margin: 30px 0 15px 0; font-size: 18px; font-weight: 600; color: #f8f9fa; line-height: 1.3;\">Section Title</h3>\n\nPARAGRAPHS (for news content):\n<p class=\"mobile-text dark-text-secondary\" style=\"margin: 0 0 20px 0; font-size: 16px; line-height: 1.6; color: #CCDADC;\">Content goes here</p>\n\nSTOCK/COMPANY MENTIONS:\n<strong style=\"color: #FDD458;\">Stock Symbol</strong> for ticker symbols\n<strong style=\"color: #CCDADC;\">Company Name</strong> for company names\n\nPERFORMANCE INDICATORS:\nUse üìà for gains, üìâ for losses, üìä for neutral/mixed\n\nNEWS ARTICLE STRUCTURE:\nFor each individual news item within a section, use this structure:\n1. Article container with visual styling and icon\n2. Article title as a subheading\n3. Key takeaways in bullet points (2-3 actionable insights)\n4. \"What this means\" section for context\n5. \"Read more\" link to the original article\n6. Visual divider between articles\n\nARTICLE CONTAINER:\nWrap each article in a clean, simple container:\n<div class=\"dark-info-box\" style=\"background-color: #212328; padding: 24px; margin: 20px 0; border-radius: 8px;\">\n\nARTICLE TITLES:\n<h4 class=\"dark-text\" style=\"margin: 0 0 16px 0; font-size: 18px; font-weight: 600; color: #FFFFFF; line-height: 1.4;\">\nArticle Title Here\n</h4>\n\nBULLET POINTS (minimum 3 concise insights):\nUse this format with clear, concise explanations (no label needed):\n<ul style=\"margin: 16px 0 20px 0; padding-left: 0; margin-left: 0; list-style: none;\">\n  <li class=\"dark-text-secondary\" style=\"margin: 0 0 16px 0; padding: 0; margin-left: 0; font-size: 16px; line-height: 1.6; color: #CCDADC;\">\n    <span style=\"color: #FDD458; font-weight: bold; font-size: 20px; margin-right: 8px;\">‚Ä¢</span>Clear, concise explanation in simple terms that's easy to understand quickly.\n  </li>\n  <li class=\"dark-text-secondary\" style=\"margin: 0 0 16px 0; padding: 0; margin-left: 0; font-size: 16px; line-height: 1.6; color: #CCDADC;\">\n    <span style=\"color: #FDD458; font-weight: bold; font-size: 20px; margin-right: 8px;\">‚Ä¢</span>Brief explanation with key numbers and what they mean in everyday language.\n  </li>\n  <li class=\"dark-text-secondary\" style=\"margin: 0 0 16px 0; padding: 0; margin-left: 0; font-size: 16px; line-height: 1.6; color: #CCDADC;\">\n    <span style=\"color: #FDD458; font-weight: bold; font-size: 20px; margin-right: 8px;\">‚Ä¢</span>Simple takeaway about what this means for regular people's money.\n  </li>\n</ul>\n\nINSIGHT SECTION:\nAdd simple context explanation:\n<div style=\"background-color: #141414; border: 1px solid #374151; padding: 15px; border-radius: 6px; margin: 16px 0;\">\n<p class=\"dark-text-secondary\" style=\"margin: 0; font-size: 14px; color: #CCDADC; line-height: 1.4;\">üí° <strong style=\"color: #FDD458;\">Bottom Line:</strong> Simple explanation of why this news matters to your money in everyday language.</p>\n</div>\n\nREAD MORE BUTTON:\n<div style=\"margin: 20px 0 0 0;\">\n<a href=\"ARTICLE_URL\" style=\"color: #FDD458; text-decoration: none; font-weight: 500; font-size: 14px;\" target=\"_blank\" rel=\"noopener noreferrer\">Read Full Story ‚Üí</a>\n</div>\n\nARTICLE DIVIDER:\nClose each article container:\n</div>\n\nSECTION DIVIDERS:\nBetween major sections, use:\n<div style=\"border-top: 1px solid #374151; margin: 32px 0 24px 0;\"></div>\n\nContent guidelines:\n- Organize news into logical sections with icons (üìä Market Overview, üìà Top Gainers, üìâ Top Losers, üî• Breaking News, üíº Earnings Reports, üèõÔ∏è Economic Data, etc.)\n- NEVER repeat section headings - use each section type only once per email\n- For each news article, include its actual headline/title from the news data\n- Provide MINIMUM 3 CONCISE bullet points (NO \"Key Takeaways\" label - start directly with bullets)\n- Each bullet should be SHORT and EASY TO UNDERSTAND - one clear sentence preferred\n- Use PLAIN ENGLISH - avoid jargon, complex financial terms, or insider language\n- Explain concepts as if talking to someone new to investing\n- Include specific numbers but explain what they mean in simple terms\n- Add \"Bottom Line\" context in everyday language anyone can understand\n- Use clean, light design with yellow bullets for better readability\n- Make each article easy to scan with clear spacing and structure\n- Always include simple \"Read Full Story\" buttons with actual URLs\n- Focus on PRACTICAL insights regular people can understand and use\n- Explain what the news means for regular investors' money\n- Keep language conversational and accessible to everyone\n- Prioritize BREVITY and CLARITY over detailed explanations\n\nExample structure:\n<h3 class=\"mobile-news-title dark-text\" style=\"margin: 30px 0 15px 0; font-size: 20px; font-weight: 600; color: #f8f9fa; line-height: 1.3;\">üìä Market Overview</h3>\n\n<div class=\"dark-info-box\" style=\"background-color: #212328; padding: 24px; margin: 20px 0; border-radius: 8px;\">\n<h4 class=\"dark-text\" style=\"margin: 0 0 16px 0; font-size: 18px; font-weight: 600; color: #FDD458; line-height: 1.4;\">\nStock Market Had Mixed Results Today\n</h4>\n\n<ul style=\"margin: 16px 0 20px 0; padding-left: 0; margin-left: 0; list-style: none;\">\n  <li class=\"dark-text-secondary\" style=\"margin: 0 0 16px 0; padding: 0; margin-left: 0; font-size: 16px; line-height: 1.6; color: #CCDADC;\">\n    <span style=\"color: #FDD458; font-weight: bold; font-size: 20px; margin-right: 8px;\">‚Ä¢</span>Tech stocks like Apple went up 1.2% today, which is good news for tech investors.\n  </li>\n  <li class=\"dark-text-secondary\" style=\"margin: 0 0 16px 0; padding: 0; margin-left: 0; font-size: 16px; line-height: 1.6; color: #CCDADC;\">\n    <span style=\"color: #FDD458; font-weight: bold; font-size: 20px; margin-right: 8px;\">‚Ä¢</span>Traditional companies went down 0.3%, showing investors prefer tech right now.\n  </li>\n  <li class=\"dark-text-secondary\" style=\"margin: 0 0 16px 0; padding: 0; margin-left: 0; font-size: 16px; line-height: 1.6; color: #CCDADC;\">\n    <span style=\"color: #FDD458; font-weight: bold; font-size: 20px; margin-right: 8px;\">‚Ä¢</span>High trading volume (12.4 billion shares) shows investors are confident and active.\n  </li>\n</ul>\n\n<div style=\"background-color: #141414; border: 1px solid #374151; padding: 15px; border-radius: 6px; margin: 16px 0;\">\n<p class=\"dark-text-secondary\" style=\"margin: 0; font-size: 14px; color: #CCDADC; line-height: 1.4;\">üí° <strong style=\"color: #FDD458;\">Bottom Line:</strong> If you own tech stocks, today was good for you. If you're thinking about investing, tech companies might be a smart choice right now.</p>\n</div>\n\n<div style=\"margin: 20px 0 0 0;\">\n<a href=\"https://example.com/article1\" style=\"color: #FDD458; text-decoration: none; font-weight: 500; font-size: 14px;\" target=\"_blank\" rel=\"noopener noreferrer\">Read Full Story ‚Üí</a>\n</div>\n</div>\n\n<div style=\"border-top: 1px solid #374151; margin: 32px 0 24px 0;\"></div>\n\n<h3 class=\"mobile-news-title dark-text\" style=\"margin: 30px 0 15px 0; font-size: 20px; font-weight: 600; color: #f8f9fa; line-height: 1.3;\">üìà Top Gainers</h3>\n\n<div class=\"dark-info-box\" style=\"background-color: #212328; padding: 24px; margin: 20px 0; border-radius: 8px;\">\n<h4 class=\"dark-text\" style=\"margin: 0 0 16px 0; font-size: 18px; font-weight: 600; color: #FDD458; line-height: 1.4;\">\nApple Stock Jumped After Great Earnings Report\n</h4>\n\n<ul style=\"margin: 16px 0 20px 0; padding-left: 0; margin-left: 0; list-style: none;\">\n  <li class=\"dark-text-secondary\" style=\"margin: 0 0 16px 0; padding: 0; margin-left: 0; font-size: 16px; line-height: 1.6; color: #CCDADC;\">\n    <span style=\"color: #FDD458; font-weight: bold; font-size: 20px; margin-right: 8px;\">‚Ä¢</span>Apple stock jumped 5.2% after beating earnings expectations.\n  </li>\n  <li class=\"dark-text-secondary\" style=\"margin: 0 0 16px 0; padding: 0; margin-left: 0; font-size: 16px; line-height: 1.6; color: #CCDADC;\">\n    <span style=\"color: #FDD458; font-weight: bold; font-size: 20px; margin-right: 8px;\">‚Ä¢</span>iPhone sales expected to grow 8% next quarter despite economic uncertainty.\n  </li>\n  <li class=\"dark-text-secondary\" style=\"margin: 0 0 16px 0; padding: 0; margin-left: 0; font-size: 16px; line-height: 1.6; color: #CCDADC;\">\n    <span style=\"color: #FDD458; font-weight: bold; font-size: 20px; margin-right: 8px;\">‚Ä¢</span>App store and services revenue hit $22.3 billion (up 14%), providing steady income.\n  </li>\n</ul>\n\n<div style=\"background-color: #141414; border: 1px solid #374151; padding: 15px; border-radius: 6px; margin: 16px 0;\">\n<p class=\"dark-text-secondary\" style=\"margin: 0; font-size: 14px; color: #CCDADC; line-height: 1.4;\">üí° <strong style=\"color: #FDD458;\">Bottom Line:</strong> Apple is making money in different ways (phones AND services), so it's a pretty safe stock to own even when the economy gets shaky.</p>\n</div>\n\n<div style=\"margin: 20px 0 0 0;\">\n<a href=\"https://example.com/article2\" style=\"color: #FDD458; text-decoration: none; font-weight: 500; font-size: 14px;\" target=\"_blank\" rel=\"noopener noreferrer\">Read Full Story ‚Üí</a>\n</div>\n</div>`\n\nexport const TRADINGVIEW_SYMBOL_MAPPING_PROMPT = `You are an expert in financial markets and trading platforms. Your task is to find the correct TradingView symbol that corresponds to a given Finnhub stock symbol.\n\nStock information from Finnhub:\nSymbol: {{symbol}}\nCompany: {{company}}\nExchange: {{exchange}}\nCurrency: {{currency}}\nCountry: {{country}}\n\nIMPORTANT RULES:\n1. TradingView uses specific symbol formats that may differ from Finnhub\n2. For US stocks: Usually just the symbol (e.g., AAPL for Apple)\n3. For international stocks: Often includes exchange prefix (e.g., NASDAQ:AAPL, NYSE:MSFT, LSE:BARC)\n4. Some symbols may have suffixes for different share classes\n5. ADRs and foreign stocks may have different symbol formats\n\nRESPONSE FORMAT:\nReturn ONLY a valid JSON object with this exact structure:\n{\n  \"tradingViewSymbol\": \"EXCHANGE:SYMBOL\",\n  \"confidence\": \"high|medium|low\",\n  \"reasoning\": \"Brief explanation of why this mapping is correct\"\n}\n\nEXAMPLES:\n- Apple Inc. (AAPL) from Finnhub ‚Üí {\"tradingViewSymbol\": \"NASDAQ:AAPL\", \"confidence\": \"high\", \"reasoning\": \"Apple trades on NASDAQ as AAPL\"}\n- Microsoft Corp (MSFT) from Finnhub ‚Üí {\"tradingViewSymbol\": \"NASDAQ:MSFT\", \"confidence\": \"high\", \"reasoning\": \"Microsoft trades on NASDAQ as MSFT\"}\n- Barclays PLC (BARC.L) from Finnhub ‚Üí {\"tradingViewSymbol\": \"LSE:BARC\", \"confidence\": \"high\", \"reasoning\": \"Barclays trades on London Stock Exchange as BARC\"}\n\nYour response must be valid JSON only. Do not include any other text.`\n"],"names":[],"mappings":";;;;;;;;AAAO,MAAM,oCAAoC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;uWA+CqT,CAAC;AAEjW,MAAM,4BAA4B,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MAqJpC,CAAC;AAEA,MAAM,oCAAoC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;qEA6BmB,CAAC"}},
    {"offset": {"line": 311, "column": 0}, "map": {"version":3,"sources":["file:///Users/jyotisangwan/Desktop/quantX/lib/inngest/functions.ts"],"sourcesContent":["import { success } from \"better-auth\";\nimport { inngest } from \"./client\";\nimport { PERSONALIZED_WELCOME_EMAIL_PROMPT } from \"./prompts\";\n\nexport const sendSignUpEmail = inngest.createFunction(\n  { id: \"sign-up-email\" },\n  { event: \"app/user.created\" },\n  async ({ event, step }) => {\n    const userProfile = `\n        - Country : ${event.data.country}\n        - Email : ${event.data.email}\n        - Investment Goals : ${event.data.investmentGoals}\n        - Risk Tolerance : ${event.data.riskTolerance}\n        - Preferred Industry : ${event.data.preferredIndustry}\n        `;\n\n    const prompt = PERSONALIZED_WELCOME_EMAIL_PROMPT.replace(\n      \"{{user_profile}}\",\n      userProfile\n    );\n    const response = await step.ai.infer(\"generate-welcome-intro\", {\n      model: step.ai.models.gemini({ model: \"gemini-2.5-flash-lite\" }),\n\n      body: {\n        contents: [{ role: \"user\", parts: [{ text: prompt }] }],\n      },\n    });\n\n    await step.run(\"send-welcome-email\", async () => {\n     const part = response.candidates?.[0]?.content?.parts?.[0];\n     const introText = (part && 'text' in part ? part.text : \"Welcome to our platform!\") || 'Thank you for signing up.';\n\n     // Sending email logic here (e.g., using an nodemailer service)\n\n    });\n    return {\n        success: true,\n        message : 'Welcome email sent successfully'\n    }\n  }\n);\n"],"names":[],"mappings":";;;;AACA;AACA;;;AAEO,MAAM,kBAAkB,qIAAO,CAAC,cAAc,CACnD;IAAE,IAAI;AAAgB,GACtB;IAAE,OAAO;AAAmB,GAC5B,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE;IACpB,MAAM,cAAc,CAAC;oBACL,EAAE,MAAM,IAAI,CAAC,OAAO,CAAC;kBACvB,EAAE,MAAM,IAAI,CAAC,KAAK,CAAC;6BACR,EAAE,MAAM,IAAI,CAAC,eAAe,CAAC;2BAC/B,EAAE,MAAM,IAAI,CAAC,aAAa,CAAC;+BACvB,EAAE,MAAM,IAAI,CAAC,iBAAiB,CAAC;QACtD,CAAC;IAEL,MAAM,SAAS,gKAAiC,CAAC,OAAO,CACtD,oBACA;IAEF,MAAM,WAAW,MAAM,KAAK,EAAE,CAAC,KAAK,CAAC,0BAA0B;QAC7D,OAAO,KAAK,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC;YAAE,OAAO;QAAwB;QAE9D,MAAM;YACJ,UAAU;gBAAC;oBAAE,MAAM;oBAAQ,OAAO;wBAAC;4BAAE,MAAM;wBAAO;qBAAE;gBAAC;aAAE;QACzD;IACF;IAEA,MAAM,KAAK,GAAG,CAAC,sBAAsB;QACpC,MAAM,OAAO,SAAS,UAAU,EAAE,CAAC,EAAE,EAAE,SAAS,OAAO,CAAC,EAAE;QAC1D,MAAM,YAAY,CAAC,QAAQ,UAAU,OAAO,KAAK,IAAI,GAAG,0BAA0B,KAAK;IAEvF,+DAA+D;IAEhE;IACA,OAAO;QACH,SAAS;QACT,SAAU;IACd;AACF"}},
    {"offset": {"line": 369, "column": 0}, "map": {"version":3,"sources":["file:///Users/jyotisangwan/Desktop/quantX/app/api/inngest/route.ts"],"sourcesContent":["import { inngest } from \"@/lib/inngest/client\";\nimport { sendSignUpEmail } from \"@/lib/inngest/functions\";\nimport {serve} from \"inngest/next\";\n\nexport const {GET ,  POST , PUT} = serve({\n    client : inngest,\n    functions : [sendSignUpEmail]\n})"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;;;;AAEO,MAAM,EAAC,GAAG,EAAI,IAAI,EAAG,GAAG,EAAC,GAAG,IAAA,0IAAK,EAAC;IACrC,QAAS,qIAAO;IAChB,WAAY;QAAC,gJAAe;KAAC;AACjC"}}]
}